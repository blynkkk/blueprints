## Introduction

This guide will help you set up and launch your project using the [Industrial
IoT Wireless Vibration Temperature Sensor
V3](https://store.ncd.io/product/industrial-iot-wireless-vibration-temperature-sensor-v3/).
You will learn how to measure vibration and temperature and send the data
wirelessly to the NCD Enterprise IIoT Gateway and the Blynk IoT platform.

## How To Use This Blueprint

### 1. Unpacking and Initial Setup

#### 1.1 Required Components:
- [**Wireless Vibration Temperature Sensor:**](https://store.ncd.io/product/industrial-iot-wireless-vibration-temperature-sensor-v3/) Measures vibration and temperature.
- [**NCD Enterprise
Gateway**](https://store.ncd.io/product/enterprise-iiot-gateway/) or
[**Enterprise IIoT Gateway Lite**](https://store.ncd.io/product/enterprise-iiot-gateway-lite/): Receives data
from the sensor and sends it to Blynk.
- **Antennas:** For wireless communication.
- **Batteries (if applicable):** Power source for the sensor.
- **Mounting accessories:** To securely install the sensor.

#### 1.2 Initial Setup:
1. **Unpack all components:** Ensure you have all the required parts.
2. **Attach antennas to the sensor and gateway:** This enables wireless communication.

### 2. Configuring the NCD Enterprise IIoT Gateway

#### 1 Required Components:
- NCD Enterprise IIoT Gateway
- Antennas

**Attach antennas to the sensor and gateway:** This enables wireless communication.

The NCD Enterprise IIoT Gateway facilitates seamless integration and communication between various IoT devices and networks.

If you haven't set up the gateway yet, please visit blynk.cloud and use the [blueprint](https://blynk.cloud/dashboard/88287/blueprints/Library/TMPL40YtWwLlq) for the gateway for a clearer setup.

If you have already set it up, you can proceed without further action.

#### 2 Access Interfaces

   1. **Web Configuration:** Access the configuration interface at `http://[domain_or_ip]` using the credentials `ncdio` / `ncdB3ast`.
      - **Domain Name:** The domain name format is `ncd-xxxx.local`, where `xxxx` are the last four characters of the Gateway's MAC address. The MAC address can be found on the side of the device. For example, if the last four characters of your Gateway's MAC address are `c398`, the domain name would be `http://ncd-c398.local`.
      - **Customization:** Set up user accounts, logging, and notifications for specific events.
   2. **Node-RED:** Access Node-RED at `http://[domain_or_ip]:1880`.
   3. **SSH Access:** Connect via SSH with `ncdio` / `ncdB3ast` on port 22.

### 3. Preparing Your Device in Blynk.Cloud

   1. **Use the Sensor Blueprint:** Click the **Use Blueprint** button.
   2. **Activate the Device:** On the right panel, click the **Activate Device** button.
   3. **Generate AuthToken:** Click the **Generate AuthToken** button.

![1step](https://raw.githubusercontent.com/blynkkk/blueprints/refs/heads/main/-Free/NCD%201%20Channel%20Vibration%20Sensor%20Plus/Image/1step.png)

You'll need the generated AuthToken for the next step. Click button **Next**.


### 4. Accessing Node-RED on the Gateway

   1. Open a web browser and navigate to `http://[domain_or_ip]:1880`.
   2. Log in to the Node-RED dashboard.

### 5: Configuring the Node-RED Flow

1. **Import the Flow:**
   - Copy or download the firmware[flow file](https://raw.githubusercontent.com/blynkkk/blueprints/refs/heads/main/-Free/NCD%201%20Channel%20Vibration%20Sensor%20Plus/Firmware/flow.json) file from second step of device activation.

![2step](https://raw.githubusercontent.com/blynkkk/blueprints/refs/heads/main/-Free/NCD%201%20Channel%20Vibration%20Sensor%20Plus/Image/2step.png)

   - In Node-RED, press **CTRL + I** or use the menu to select **Import**.
   - Paste the copied code or upload the flow file (.json).

![Import](https://raw.githubusercontent.com/blynkkk/blueprints/refs/heads/main/-Free/NCD%201%20Channel%20Vibration%20Sensor%20Plus/Image/import.png)

2. **Set Up MQTT:**
   - Click on any of the highlighted MQTT-out node.

	![MQTT Out](https://raw.githubusercontent.com/blynkkk/blueprints/refs/heads/main/-Free/NCD%201%20Channel%20Vibration%20Sensor%20Plus/Image/flow-mqtt-out.png)

   - Select the highlighted icon.

	![MQTT Property](https://raw.githubusercontent.com/blynkkk/blueprints/refs/heads/main//Image/mqtt-property.png)

   - Go to the Security tab.

	![Broker Property](https://raw.githubusercontent.com/blynkkk/blueprints/refs/heads/main//Image/broker-property.png)

   - Enter the AuthToken generated by Blynk as a password for your device (use “device” as the username).

	![Security Tab](https://raw.githubusercontent.com/blynkkk/blueprints/refs/heads/main//Image/security-tab.png)

   Your flow should look like this:

![Import](https://raw.githubusercontent.com/blynkkk/blueprints/refs/heads/main//Image/flow.png)

### 6: Running the Sample Using Node-RED

1. **Deploy the Flow:**
   - Click the **Deploy** button in Node-RED to activate the flow.

2. **Test Your Setup:**
   - Go to Blynk.cloud to check the sensor data and verify everything is working. Connect during deployment flow, but data will be transferred to the cloud when the gateway receives it from the sensor.
   - Blynk dashboard provides a real-time overview of data from the **NCD 1 Channel Vibration Sensor** using the Blynk platform. Key features include:
       - **Status**: Device status (e.g., Online).
       - **Time Range Selection**: View data over different periods (e.g., 1h, 1d, 1mo).
       - **Total Vibration Level**: Displays overall vibration intensity.
       - **Axis Data (X, Y, Z)**:
         - Maximum Acceleration (MAX ACC).
         - RMS Acceleration (RMS ACC).
         - Peak frequencies (top 3 for each axis).
       - **Additional Metrics**:
         - Estimated Motor Speed (Hz).
         - Output Data Range.
         - Battery Level.

The Blynk mobile app provides the same functionality as the web dashboard,
allowing you to monitor and manage your system on the go. You can access
real-time data, view historical trends directly from your mobile device.
This ensures continuous monitoring and timely alerts, helping you maintain
optimal system

![Dashboard](https://raw.githubusercontent.com/blynkkk/blueprints/refs/heads/main//Image/screenshot-1.png)

To add a new sensor the same type, you need to repeat this guide for the new device.

### Next Steps

After setting up your system and addressing any issues, you can expand and optimize your project with the following steps:

- Explore the Blynk Web Console and Blynk IoT app, start monitoring your sensor data from both.
- [Set up notifications and log events with Automations.](https://docs.blynk.io/en/concepts/automations).
- [Discover how to Share Devices with other users](https://docs.blynk.io/en/blynk.console/devices/device-sharing).
- Add more sensors or [devices](https://docs.blynk.io/en/blynk.console/devices/actions-with-devices#create-device) to your setup.
- Learn how to work with [Virtual
Pins](https://docs.blynk.io/en/getting-started/how-to-display-any-sensor-data-in-blynk-app)
and [MQTT API](https://docs.blynk.io/en/blynk.cloud-mqtt-api/device-mqtt-api)
to customize the code for specific needs.

### Troubleshooting

1. **Connection Problems:**
   - Ensure the sensor is powered and within range.
   - Check firewall rules.

2. **Calibration Errors:**
   - Follow the software instructions to recalibrate the sensor.
   - Ensure the environment is stable during calibration.

3. **Node-RED Issues:**
   - **Flow Not Deploying:** Check for syntax errors or missing nodes.
   - **MQTT Connection Failure:** Verify MQTT broker settings and credentials.

### Related Links

- [Blynk MQTT API Documentation](https://docs.blynk.io/en/hardware-guides/mqtt-api)
- [Blynk Documentation](https://docs.blynk.io/en/)
- [Blynk Node-RED Guide](https://docs.blynk.io/en/hardware-guides/node-red)
- [NCD Wireless Vibration Temperature Sensor Documentation](https://store.ncd.io/product/industrial-iot-wireless-vibration-temperature-sensor-v3/)
- [Node-RED Documentation](https://nodered.org/docs/getting-started/local)
- [NCD Support](https://ncd.io/contact/)

